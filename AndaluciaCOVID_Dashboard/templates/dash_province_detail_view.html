{% extends 'base.html' %} {% block content %}
<div>
<h2>Incidencia</h2>
<ul class="stadistic">
<li><div class="overview_card-icon"><img src="https://media1.giphy.com/media/13Xkz5sLdjGiQw/200w.gif"><b>Tasa a 14 días: </b>{{tasaInc14}}</div></li>
<li><div class="overview_card-icon"><img src="https://media1.giphy.com/media/13Xkz5sLdjGiQw/200w.gif"><b>Tasa a 7 días:</b> {{tasaInc7}}</div></li>
</ul>
</div>
<div>
                <h2>Fallecidos y recuperados totales</h2>
                <ul>
                    <li><div class="overview_card-icon"><img src="https://media1.giphy.com/media/13Xkz5sLdjGiQw/200w.gif"><b>Recuperados totales:</b> {{recovered}}</div></li>
                    <li><div class="overview_card-icon"><img src="https://media1.giphy.com/media/13Xkz5sLdjGiQw/200w.gif"><b>Fallecidos totales:</b> {{deceased}}</div></li>
                </ul>
            </div>
            <div>
                <h2>Estado de los municipios</h2>
                <ul>
                    <li><div class="overview_card-icon"><img src="https://images.vexels.com/media/users/3/154655/isolated/preview/71dccbb077597dea55dfc5b7a7af52c4-icono-de-contacto-de-pin-de-ubicaci-oacute-n-by-vexels.png"><b>Municipios +500 IA:</b> {{townships500list}}</div></li>
                    <li><div class="overview_card-icon"><img src="https://images.vexels.com/media/users/3/154655/isolated/preview/71dccbb077597dea55dfc5b7a7af52c4-icono-de-contacto-de-pin-de-ubicaci-oacute-n-by-vexels.png"><b>Municipios +1000 IA:</b> {{townships1000list}}</div></li>
                </ul> 
                </div>       
        </div>

        <div class="flex-grid">
            <div>
                <h2>Aumento de los contagios</h2> 
    <canvas
      class="responsive-canvas"
      id="pie-chart"
    ></canvas>
            </div>
            <div>
                <h2>Evolución de hospitalizados</h2> 
     <canvas
      class="responsive-canvas"
      id="pie-chart3"
    ></canvas>
            </div>
        </div>
  <script>
        var ctx = document.getElementById('pie-chart').getContext('2d');
        var data_1 = {
            datasets: [{
            fill: true,
            borderColor: "#e5a276",
            backgroundColor: "#e9be91",
            borderWidth: 1,
            label: 'Contagios en un día',
            data: {{ dataAument|safe }}
            }],
            labels: {{ labels|safe }}
            };
        var chart1 = new Chart(ctx, {
            type: 'bar',
            data: data_1,
        options: {
            legend: {
                labels: {
                    fontColor: setColorText()
                }
            },
            scales: {
                yAxes: [{
                    ticks: {
                        fontColor: setColorText()
                    }
                }],
                xAxes: [{
                    ticks: {
                        fontColor: setColorText(),
                    }
                }]
            }
        }
                });

          var ctx_3 = document.getElementById('pie-chart3').getContext('2d');
          var data_3 = {
            datasets: [{
            borderColor: "#009688",
            backgroundColor: "#99dcd1",
            borderWidth: 1,
            label: 'Hospitalizados Conv',
            data: {{ dataHospitalizedCounter|safe }}
            },
            {
            borderColor: "#de425b",
            backgroundColor: "#f3babc",
            label: 'UCI',
            borderWidth: 1,
            data: {{ dataICU|safe }}
            }
            ],
            labels: {{ labels |safe }}
            };
          var chart3 = new Chart(ctx_3, {
             type: 'bar',
            data: data_3,
        options: {
            legend: {
                labels: {
                    fontColor: setColorText()
                }
            },
            scales: {
                yAxes: [{
                    ticks: {
                        fontColor: setColorText()
                    }
                }],
                xAxes: [{
                    ticks: {
                        fontColor: setColorText(),
                    }
                }]
            }
        }
                });
                
  </script>
  {% endblock %}
</div>
